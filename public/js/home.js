!function(){"use strict";var n="undefined"==typeof window?global:window;if("function"!=typeof n.require){var r={},t={},e={},o={}.hasOwnProperty,i="components/",a=function(n,r){var t=0;r&&(0===r.indexOf(i)&&(t=i.length),r.indexOf("/",t)>0&&(r=r.substring(t,r.indexOf("/",t))));var o=e[n+"/index.js"]||e[r+"/deps/"+n+"/index.js"];return o?i+o.substring(0,o.length-".js".length):n},s=/^\.\.?(\/|$)/,u=function(n,r){for(var t,e=[],o=(s.test(r)?n+"/"+r:r).split("/"),i=0,a=o.length;a>i;i++)t=o[i],".."===t?e.pop():"."!==t&&""!==t&&e.push(t);return e.join("/")},f=function(n){return n.split("/").slice(0,-1).join("/")},l=function(r){return function(t){var e=u(f(r),t);return n.require(e,r)}},c=function(n,r){var e={id:n,exports:{}};return t[n]=e,r(e.exports,l(n),e),e.exports},h=function(n,e){var i=u(n,".");if(null==e&&(e="/"),i=a(n,e),o.call(t,i))return t[i].exports;if(o.call(r,i))return c(i,r[i]);var s=u(i,"./index");if(o.call(t,s))return t[s].exports;if(o.call(r,s))return c(s,r[s]);throw new Error('Cannot find module "'+n+'" from "'+e+'"')};h.alias=function(n,r){e[r]=n},h.register=h.define=function(n,t){if("object"==typeof n)for(var e in n)o.call(n,e)&&(r[e]=n[e]);else r[n]=t},h.list=function(){var n=[];for(var t in r)o.call(r,t)&&n.push(t);return n},h.brunch=!0,h._cache=t,n.require=h}}(),require.register("configuration",function(n,r,t){var e=function(n){var r=new RegExp("/\\*(.|[\r\n])*?\\*/","g"),t=new RegExp("(^[/]|[^:]/)/.*[\r|\n]","g");return n=n.replace(t,""),n=n.replace(r,"")},o=function(n,r,t){if(n){var e=null,o=r.split("=");if(2==o.length){if(n[o[0]]==o[1])return n}else e=n[r];if("undefined"!=typeof e)return e}return t},i=function(){var n=window.location.pathname.split("/"),r="";if(n.length>0)for(var t=0;t<n.length;t++)"sec"!==n[t]&&""!==n[t]&&"index.html"!==n[t]&&"help.html"!==n[t]&&(r=r+"/"+n[t]);return r+"/ngeo"},a={url:"../conf",baseServerUrl:i(),serverHostName:window.location.protocol+"//"+window.location.host,localConfig:null,data:{},load:function(){var n={};return $.when($.ajax({url:this.url+"/localConfiguration.json",dataType:"json",success:function(n){a.localConfig=n},error:function(n,r,t){console.log("Local configuration not found "+r+" "+t)}}),$.when($.ajax({url:this.url+"/configuration.json",dataType:"text",success:function(n){a.setConfigurationData(n)},error:function(n,r,t){console.log("Configuration not found "+r+" "+t)}}),$.ajax({url:this.serverHostName+this.baseServerUrl+"/webClientConfigurationData",dataType:"text",success:function(r){n=r},error:function(n,r,t){console.log("Configuration not found "+r+" "+t)}})).then(function(){a.buildServerConfiguration(n)}))},setConfigurationData:function(n){$.extend(!0,a.data,JSON.parse(e(n)))},buildServerConfiguration:function(n){n=JSON.parse(e(n)),$.extend(!0,a.data,n)},get:function(n,r){return this.data?this.getFromPath(this.data,n,r):r},getMappedProperty:function(n,r,t){var e=this,o=this.getFromPath(this.localConfig,"serverPropertyMapper."+r);if(o){var i=t;return o.forEach(function(o){var a=e.getFromPath(n,o,t);a!==t&&("browses"===r?i=_.isArray(a)?a:[a]:"object"!=typeof a&&(i=a))}),i}return t},setMappedProperty:function(n,r,t){var e=this.getFromPath(this.localConfig,"serverPropertyMapper."+r);if(e){var o=e.substr(e,e.lastIndexOf(".")),i=e.substr(e.lastIndexOf(".")+1),a=this.getFromPath(n,o,null);a?a[i]=t:console.warn(o+" doesn't exist")}else console.warn(r+" wasn't found in serverPropertyMapper")},getPropertyFromPaths:function(n,r,t){var e=this;if(r&&_.isArray(r)&&r.length>0){var o=t;return r.forEach(function(r){var i=e.getFromPath(n,r,t);i!==t&&"object"!=typeof i&&(o=i)}),o}return t},getFromPath:function(n,r,t){for(var e=r.split("."),i=n,a=0;i&&a<e.length-1;a++){var s=e[a].split("[]");if(2===s.length){for(var u=null,f=0;f<i[s[0]].length;f++){for(var u=i[s[0]][f],l=a+1;u&&l<e.length-1;l++)u=o(u,e[l]);if(u){a=l;break}}i=u}else i=o(i,e[a])}return o(i,e[e.length-1],t)},checkBehindSso:function(){return $.when($.ajax({url:this.serverHostName+this.baseServerUrl+"/userId",dataType:"text",success:function(n){a.data.behindSSO=!1;var r=JSON.parse(n);r.userInformation?(a.data.behindSSO=!0,a.data.userIdentification=r.userInformation.userId,console.info("behind SSO")):console.info("Not behind SSO")},error:function(n,r,t){a.data.behindSSO=!1,console.info("Not behind SSO")}})).then(function(n){return $.when()},function(n){return $.when()})}};t.exports=a}),require.register("home",function(n,r,t){"use strict";var e=r("configuration");t.exports={initialize:function(n){e.url=n?n:"conf",e.load().done(function(){$("body .contactUs").attr("href","mailto:"+e.get("mailto")),$("body footer").append("<span>Client "+e.localConfig.version+" - Server "+e.data.version+"</span>")})}}});
//# sourceMappingURL=home.js.map